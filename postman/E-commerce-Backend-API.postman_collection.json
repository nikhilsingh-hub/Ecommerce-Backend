{
  "info": {
    "name": "E-commerce Backend API",
    "description": "Complete API collection for the E-commerce Backend application demonstrating event-driven architecture, CQRS pattern, fuzzy search capabilities, and hybrid event publishing (Outbox + Direct). Includes comprehensive Elasticsearch testing, analytics event validation, and error scenarios.",
    "version": "2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "elasticsearchUrl",
      "value": "http://localhost:9200",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Product Management",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Wireless Bluetooth Headphones\",\n  \"description\": \"High-quality wireless headphones with active noise cancellation and 30-hour battery life\",\n  \"categories\": [\"Electronics\", \"Audio\", \"Headphones\"],\n  \"price\": 199.99,\n  \"sku\": \"WBH-TEST-001\",\n  \"attributes\": {\n    \"color\": \"black\",\n    \"battery_life\": \"30 hours\",\n    \"noise_cancellation\": \"active\",\n    \"wireless\": \"true\"\n  },\n  \"images\": [\n    \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e\",\n    \"https://images.unsplash.com/photo-1484704849700-f032a568e944\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Create a new product with complete information"
          },
          "response": []
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1?userId=user123&sessionId=session456",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "1"],
              "query": [
                {
                  "key": "userId",
                  "value": "user123",
                  "description": "User ID for analytics tracking"
                },
                {
                  "key": "sessionId",
                  "value": "session456",
                  "description": "Session ID for analytics tracking"
                }
              ]
            },
            "description": "Retrieve a specific product by ID and record view event"
          },
          "response": []
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Wireless Bluetooth Headphones Pro\",\n  \"description\": \"Updated premium wireless headphones with enhanced features\",\n  \"price\": 249.99,\n  \"attributes\": {\n    \"color\": \"black\",\n    \"battery_life\": \"40 hours\",\n    \"noise_cancellation\": \"adaptive\",\n    \"wireless\": \"true\",\n    \"version\": \"pro\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "1"]
            },
            "description": "Update an existing product (partial update supported)"
          },
          "response": []
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "1"]
            },
            "description": "Delete a product and publish deletion event"
          },
          "response": []
        },
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products?page=0&size=20&sortBy=createdAt&sortDirection=desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products"],
              "query": [
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number (0-based)"
                },
                {
                  "key": "size",
                  "value": "20",
                  "description": "Items per page"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "Sort field"
                },
                {
                  "key": "sortDirection",
                  "value": "desc",
                  "description": "Sort direction"
                }
              ]
            },
            "description": "Get all products with pagination and sorting"
          },
          "response": []
        }
      ],
      "description": "Core product CRUD operations with event publishing"
    },
    {
      "name": "Search & Discovery",
      "item": [
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=wireless&categories=Electronics&minPrice=50&maxPrice=300&page=0&size=10&sortBy=popularityScore&sortDirection=desc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "wireless",
                  "description": "Search query"
                },
                {
                  "key": "categories",
                  "value": "Electronics",
                  "description": "Filter by category"
                },
                {
                  "key": "minPrice",
                  "value": "50",
                  "description": "Minimum price filter"
                },
                {
                  "key": "maxPrice",
                  "value": "300",
                  "description": "Maximum price filter"
                },
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number (0-based)"
                },
                {
                  "key": "size",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "sortBy",
                  "value": "popularityScore",
                  "description": "Sort field"
                },
                {
                  "key": "sortDirection",
                  "value": "desc",
                  "description": "Sort direction"
                }
              ]
            },
            "description": "Advanced product search with filters and pagination using Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Get Related Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1/related?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "1", "related"],
              "query": [
                {
                  "key": "limit",
                  "value": "5",
                  "description": "Maximum number of related products"
                }
              ]
            },
            "description": "Find related products using Elasticsearch 'More Like This' functionality"
          },
          "response": []
        },
        {
          "name": "Get Popular Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/popular?limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "popular"],
              "query": [
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Maximum number of popular products"
                }
              ]
            },
            "description": "Get most popular products based on popularity score"
          },
          "response": []
        },
        {
          "name": "Autocomplete Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/autocomplete?q=head&limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "autocomplete"],
              "query": [
                {
                  "key": "q",
                  "value": "head",
                  "description": "Partial query for autocomplete"
                },
                {
                  "key": "limit",
                  "value": "5",
                  "description": "Maximum number of suggestions"
                }
              ]
            },
            "description": "Get autocomplete suggestions for product names"
          },
          "response": []
        },
        {
          "name": "Get Products by Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/categories?categories=Electronics&categories=Audio&page=0&size=20&sortBy=name&sortDirection=asc",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "categories"],
              "query": [
                {
                  "key": "categories",
                  "value": "Electronics"
                },
                {
                  "key": "categories",
                  "value": "Audio"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                },
                {
                  "key": "sortBy",
                  "value": "name"
                },
                {
                  "key": "sortDirection",
                  "value": "asc"
                }
              ]
            },
            "description": "Get products filtered by specific categories"
          },
          "response": []
        }
      ],
      "description": "Advanced search and product discovery features"
    },
    {
      "name": "Admin Operations",
      "item": [
        {
          "name": "Publish Batch Messages",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/publish-batch?topic=test-events&messageCount=10&eventType=TestEvent",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "admin", "publish-batch"],
              "query": [
                {
                  "key": "topic",
                  "value": "test-events",
                  "description": "Topic to publish to"
                },
                {
                  "key": "messageCount",
                  "value": "10",
                  "description": "Number of test messages to publish"
                },
                {
                  "key": "eventType",
                  "value": "TestEvent",
                  "description": "Type of test event"
                }
              ]
            },
            "description": "Publish a batch of test messages to demonstrate pub/sub functionality"
          },
          "response": []
        },
        {
          "name": "Trigger Full Elasticsearch Sync",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/sync/full",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "admin", "sync", "full"]
            },
            "description": "Manually trigger a full synchronization from MySQL to Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Get Sync Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/sync/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "admin", "sync", "status"]
            },
            "description": "Get current synchronization status between MySQL and Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Sync Specific Product",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/sync/product/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "admin", "sync", "product", "1"]
            },
            "description": "Manually synchronize a specific product to Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Get Publisher Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/stats/publisher",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "admin", "stats", "publisher"]
            },
            "description": "Get statistics about the message publisher performance"
          },
          "response": []
        }
      ],
      "description": "Administrative operations for system management and testing"
    },
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Basic Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "health"]
            },
            "description": "Simple health check to verify application is running"
          },
          "response": []
        },
        {
          "name": "Detailed Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health/detailed",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "health", "detailed"]
            },
            "description": "Comprehensive health check including all system components"
          },
          "response": []
        },
        {
          "name": "Get System Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health/metrics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "health", "metrics"]
            },
            "description": "Get various system metrics and statistics"
          },
          "response": []
        },
        {
          "name": "Spring Actuator Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/actuator/health",
              "host": ["{{baseUrl}}"],
              "path": ["actuator", "health"]
            },
            "description": "Spring Boot Actuator health endpoint"
          },
          "response": []
        },
        {
          "name": "Prometheus Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/actuator/prometheus",
              "host": ["{{baseUrl}}"],
              "path": ["actuator", "prometheus"]
            },
            "description": "Prometheus metrics endpoint for monitoring"
          },
          "response": []
        }
      ],
      "description": "Health checks and monitoring endpoints"
    },
    {
      "name": "Elasticsearch Direct APIs",
      "item": [
        {
          "name": "List All Indexes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/_cat/indices?v",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["_cat", "indices"],
              "query": [
                {
                  "key": "v",
                  "value": null,
                  "description": "Verbose output"
                }
              ]
            },
            "description": "List all Elasticsearch indexes with document counts and health status"
          },
          "response": []
        },
        {
          "name": "Count Products in ES",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/products/_count",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["products", "_count"]
            },
            "description": "Get the count of documents in the products index"
          },
          "response": []
        },
        {
          "name": "Get All Products from ES",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/products/_search?size=20&pretty",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["products", "_search"],
              "query": [
                {
                  "key": "size",
                  "value": "20",
                  "description": "Number of documents to return"
                },
                {
                  "key": "pretty",
                  "value": null,
                  "description": "Pretty print JSON response"
                }
              ]
            },
            "description": "Retrieve all products directly from Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Get Product Mapping",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/products/_mapping",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["products", "_mapping"]
            },
            "description": "Get the mapping/schema of the products index"
          },
          "response": []
        },
        {
          "name": "Search Products in ES",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/products/_search?q=headphones&pretty",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["products", "_search"],
              "query": [
                {
                  "key": "q",
                  "value": "headphones",
                  "description": "Query string"
                },
                {
                  "key": "pretty",
                  "value": null,
                  "description": "Pretty print JSON response"
                }
              ]
            },
            "description": "Search products directly in Elasticsearch using query string"
          },
          "response": []
        },
        {
          "name": "Get Specific Product from ES",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/products/_doc/1",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["products", "_doc", "1"]
            },
            "description": "Get a specific product document by ID from Elasticsearch"
          },
          "response": []
        },
        {
          "name": "Cluster Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{elasticsearchUrl}}/_cluster/health",
              "host": ["{{elasticsearchUrl}}"],
              "path": ["_cluster", "health"]
            },
            "description": "Check Elasticsearch cluster health status"
          },
          "response": []
        }
      ],
      "description": "Direct Elasticsearch API calls for debugging and inspection"
    },
    {
      "name": "Fuzzy Search Testing",
      "item": [
        {
          "name": "Search with Typos - Missing Letter",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=headphon",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "headphon",
                  "description": "Missing 'es' from 'headphones'"
                }
              ]
            },
            "description": "Test fuzzy search with missing letters (headphon -> headphones)"
          },
          "response": []
        },
        {
          "name": "Search with Typos - Wrong Letter",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=bluetoot",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "bluetoot",
                  "description": "Missing 'h' from 'bluetooth'"
                }
              ]
            },
            "description": "Test fuzzy search with missing letters (bluetoot -> bluetooth)"
          },
          "response": []
        },
        {
          "name": "Search with Typos - Swapped Letters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=hedphones",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "hedphones",
                  "description": "Swapped 'a' with 'e' in 'headphones'"
                }
              ]
            },
            "description": "Test fuzzy search with swapped letters (hedphones -> headphones)"
          },
          "response": []
        },
        {
          "name": "Autocomplete with Typos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/autocomplete?q=wireles&limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "autocomplete"],
              "query": [
                {
                  "key": "q",
                  "value": "wireles",
                  "description": "Missing 's' from 'wireless'"
                },
                {
                  "key": "limit",
                  "value": "5",
                  "description": "Maximum suggestions"
                }
              ]
            },
            "description": "Test autocomplete with fuzzy matching (wireles -> wireless)"
          },
          "response": []
        },
        {
          "name": "Search Partial Words",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=blue",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "blue",
                  "description": "Partial word should match 'bluetooth'"
                }
              ]
            },
            "description": "Test partial word matching (blue -> bluetooth)"
          },
          "response": []
        }
      ],
      "description": "Test fuzzy search and typo tolerance capabilities"
    },
    {
      "name": "Analytics & Event Testing",
      "item": [
        {
          "name": "Product View with Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/1?userId=test-user-analytics&sessionId=session-analytics-001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "1"],
              "query": [
                {
                  "key": "userId",
                  "value": "test-user-analytics",
                  "description": "User ID for analytics tracking"
                },
                {
                  "key": "sessionId",
                  "value": "session-analytics-001",
                  "description": "Session ID for analytics tracking"
                }
              ]
            },
            "description": "View product and trigger ProductViewed analytics event (direct publishing)"
          },
          "response": []
        },
        {
          "name": "Search with Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/search?q=analytics-test&categories=Electronics&page=0&size=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "analytics-test",
                  "description": "Search query for analytics testing"
                },
                {
                  "key": "categories",
                  "value": "Electronics",
                  "description": "Category filter"
                },
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number"
                },
                {
                  "key": "size",
                  "value": "5",
                  "description": "Page size"
                }
              ]
            },
            "description": "Perform search and trigger ProductSearchPerformed analytics event (direct publishing)"
          },
          "response": []
        },
        {
          "name": "Multiple Product Views",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Simulate multiple product views for analytics testing",
                  "const userIds = ['user001', 'user002', 'user003'];",
                  "const productIds = [1, 2, 3];",
                  "",
                  "// This test will generate multiple view events",
                  "pm.test('Product view successful', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404]);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/{{$randomInt}}?userId=user-{{$randomInt}}&sessionId=session-{{$timestamp}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "{{$randomInt}}"],
              "query": [
                {
                  "key": "userId",
                  "value": "user-{{$randomInt}}",
                  "description": "Random user ID"
                },
                {
                  "key": "sessionId",
                  "value": "session-{{$timestamp}}",
                  "description": "Timestamp-based session ID"
                }
              ]
            },
            "description": "Generate random product view events for analytics testing"
          },
          "response": []
        }
      ],
      "description": "Test analytics events and direct publishing functionality"
    },
    {
      "name": "Error Scenarios",
      "item": [
        {
          "name": "Create Product - Validation Error",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"description\": \"This should fail validation\",\n  \"categories\": [],\n  \"price\": -10.00,\n  \"sku\": \"\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Test validation error handling with invalid product data"
          },
          "response": []
        },
        {
          "name": "Create Product - Duplicate SKU",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Duplicate Product\",\n  \"description\": \"This should fail due to duplicate SKU\",\n  \"categories\": [\"Test\"],\n  \"price\": 99.99,\n  \"sku\": \"WBH-TEST-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Test duplicate SKU error handling"
          },
          "response": []
        },
        {
          "name": "Get Non-existent Product",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/products/99999",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "products", "99999"]
            },
            "description": "Test 404 error handling for non-existent product"
          },
          "response": []
        }
      ],
      "description": "Test error handling and edge cases"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set correlation ID for request tracking",
          "pm.request.headers.add({",
          "    key: 'X-Correlation-ID',",
          "    value: pm.globals.replaceIn('{{$guid}}').substring(0, 8)",
          "});"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Basic test for successful responses",
          "pm.test('Response status is successful', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 202, 204]);",
          "});",
          "",
          "// Test response time",
          "pm.test('Response time is less than 2000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(2000);",
          "});",
          "",
          "// Test response structure for API endpoints",
          "if (pm.response.code < 300 && pm.request.url.path.includes('api/v1')) {",
          "    pm.test('Response has success field', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('success');",
          "        pm.expect(jsonData).to.have.property('timestamp');",
          "    });",
          "}"
        ]
      }
    }
  ]
}
